{
  "settings": {
    "index": {
      "analysis": {
        "analyzer": {
          "firm_name_analyzer": { "tokenizer": "keyword", "filter": "lowercase" }
        }
      }
    }
  },
  "mappings": {
    "firms": {
      "properties": {
        "registered_name": { "type": "string", "analyzer": "firm_name_analyzer" },
        "postcode_searchable": { "type": "boolean" },
        "other_advice_methods": { "type": "integer" },
        "investment_sizes": { "type": "integer" },
        "pension_pot": { "type": "integer" },
        "options_when_paying_for_care": { "type": "integer" },
        "equity_release": { "type": "integer" },
        "inheritance_tax_planning": { "type": "integer" },
        "wills_and_probate": { "type": "integer" },
        "advises_on_investments": { "type": "boolean" },
        "investment_sizes": { "type": "integer" },

        "advisers": {
          "type": "nested",
          "properties": {
            "location": { "type": "geo_point" },
            "range": { "type": "integer" },
            "name": { "type": "string", "index": "not_analyzed" }
          }
        }
      }
    }
  }
}
